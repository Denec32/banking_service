# Сервис регистрации клиентов и хранения транзакций

- Регистрация клиента
- Регистрации счетов клиента (депозитного, кредитного счетов)
- Счет может быть заблокирован. Дебетовый по запросу, кредитный по исчерпанию лимита
- Запись транзакций клиента в БД
- Транзакция привязана к счету

Сервис слушает топик t1_demo_client_transactions, создает новую запись о транзакции, изменяет состояние баланса.

В случае, если счет заблокирован, отправить id ошибочной транзакции в топик t1_demo_client_transaction_errors.

В случае, если поступило сообщение об "отмене" транзакции, удалить транзакцию из БД с корректировкой баланса.

Сервис принимает http-запросы от сервиса 3 на разблокировку счета:

- Если счет кредитный и к моменту получения запроса на нем достаточно средств, то разблокировать счет и обработать транзакцию повторно

- Если средств недостаточно, то в ответном сообщении ответить отказом на запрос разблокировки

- Если счет депозитный, то просто разблокировать счет